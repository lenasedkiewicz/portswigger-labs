---
marp: true
theme: gaia
class: invert
backgroundColor: #000000;
---

# XSS

##

---

# Typowa strona WWW

(w latach 90 :P)

- [HTML](https://www.geeksforgeeks.org/html/what-is-html/) - od 1993
- [CSS](https://www.geeksforgeeks.org/css/css-history-versions/) - od 1996
- [Java](https://medium.com/@BitrockIT/java-the-world-wide-web-the-beginnings-d186cb0d381) - od 1996...

---

# Typowa strona WWW

(w latach 90 :P)

- po drodze jest kilka różnych rozwiązań, które mają dodać "wodotryski" (szeroko pojętą interaktywność)
- [Adobe Flash Player](https://pl.wikipedia.org/wiki/Adobe_Flash_Player)
- Javę wypiera JavaScript ([z czasem](https://dev.to/jasonnordheim/how-javascript-came-to-dominate-web-development-3nom))...

---

# Jak dodać kod JS w HTML?

- <script src="myScript.js"></script>
- <script src="/js/myScript.js"></script>
- <script src="https://www.w3schools.com/js/myScript.js"></script>

[za: W3schools](https://www.w3schools.com/js/js_whereto.asp)

---

# Jak dodać kod JS w HTML?

- <script></script> w sekcji head (<head></head>)
- <script></script> w sekcji... body (<body></body>)

[za: W3schools](https://www.w3schools.com/js/js_whereto.asp)

---

# Jak dodać kod JS w HTML?

```
<!DOCTYPE html>
<html>
<body>

<h2>Demo JavaScript in Body</h2>

<p id="demo">A Paragraph</p>
<button type="button" onclick="myFunction()">Try it</button>

<script>
function myFunction() {
  document.getElementById("demo").innerHTML = "Paragraph changed.";
}
</script>

</body>
</html>
```

[za: W3schools](https://www.w3schools.com/js/js_whereto.asp)

---

# A gdzieś indziej?...

- ... np. w znaczniku <input /> ?
- ... albo w polu tekstowym?

---

# Co może pójść nie tak? O_O

---

# Jak działa XSS?

- podatna strona zwraca użytkownikowi złośliwy kod JS
- kod wykonuje się w przeglądarce ofiary

[za: Portswigger](https://portswigger.net/web-security/cross-site-scripting)

---

# Czemu ten błąd jest taki straszny?

- może wpłynąć na interakcję między użytkownikiem a podatną aplikację
- atakujący może podszyć się pod użytkownika...
- ... wykonać działania, które on może wykonać...
- ... albo wykraść jego dane.

[za: Portswigger](https://portswigger.net/web-security/cross-site-scripting)

---

# Rodzaje XSS

- Reflected XSS - przez żądanie HTTP
- Stored XSS - przez kod znajdujący się w bazie danych
- DOM-based XSS - przez kod po stronie klienta (nie serwera)

[za: Portswigger](https://portswigger.net/web-security/cross-site-scripting)

---

# Proof of concept: metoda alert

<script>alert(0);</script>

(windows.alert(x));

---

# Koniec laby, czas na laby!

---

## Reflected XSS

- dane od użytkownika wyświetlone w kodzie źródłowym, bez modyfikacji
- aplikacja może być podatna, jeśli przetwarza różne znaczniki HTML od użytkownika
- warto się przyjrzeć, jak łączą się z istniejącym kodem

---

## Reflected XSS

Lab:
https://portswigger.net/web-security/cross-site-scripting/reflected/lab-html-context-nothing-encoded

---
