---
marp: true
theme: gaia
class: invert
backgroundColor: #000000;
---

# XSS

##

---

# Typowa strona WWW

(w latach 90 :P)

- [HTML](https://www.geeksforgeeks.org/html/what-is-html/) - od 1993
- [CSS](https://www.geeksforgeeks.org/css/css-history-versions/) - od 1996
- [Java](https://medium.com/@BitrockIT/java-the-world-wide-web-the-beginnings-d186cb0d381) - od 1996...

---

# Typowa strona WWW

(w latach 90 :P)

- po drodze jest kilka różnych rozwiązań, które mają dodać "wodotryski" (szeroko pojętą interaktywność)
- [Adobe Flash Player](https://pl.wikipedia.org/wiki/Adobe_Flash_Player)
- Javę wypiera JavaScript ([z czasem](https://dev.to/jasonnordheim/how-javascript-came-to-dominate-web-development-3nom))...

---

# Jak dodać kod JS w HTML?

- <script src="myScript.js"></script>
- <script src="/js/myScript.js"></script>
- <script src="https://www.w3schools.com/js/myScript.js"></script>

[za: W3schools](https://www.w3schools.com/js/js_whereto.asp)

---

# Jak dodać kod JS w HTML?

- <script></script> w sekcji head (<head></head>)
- <script></script> w sekcji... body (<body></body>)

[za: W3schools](https://www.w3schools.com/js/js_whereto.asp)

---

# Jak dodać kod JS w HTML?

```
<!DOCTYPE html>
<html>
<body>

<h2>Demo JavaScript in Body</h2>

<p id="demo">A Paragraph</p>
<button type="button" onclick="myFunction()">Try it</button>

<script>
function myFunction() {
  document.getElementById("demo").innerHTML = "Paragraph changed.";
}
</script>

</body>
</html>
```

[za: W3schools](https://www.w3schools.com/js/js_whereto.asp)

---

# A gdzieś indziej?...

- ... np. w znaczniku <input /> ?
- ... albo w polu tekstowym?

---

# Co może pójść nie tak? O_O

---

## Wiadomości o błędzie

- użytkownik może wpisać inną wartość, niż byśmy się spodziewali (np. zamiast numerycznej wartości, tekst)
- każdy język programowania ma swoje typy danych
- najważniejsze proste typy: string (tekst), int (liczba całkowita), float (liczba zmiennoprzecinkowa), boolean (prawda / fałsz) etc.

---

## Wiadomości o błędzie

- walidacja po stronie serwera - ochrona przed atakującym
- walidacja na frontendzie - wskazanie dla użytkownika
- obsługa błędów - kluczowa! (np. try - catch)

---

## Wiadomości o błędzie - Lab

https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-in-error-messages

---

## Komentarze w kodzie

- zazwyczaj - pomagają zrozumieć szybciej kod
- nie wszystkie jednak powinny znaleźć się w repozytorium...
- ... a tym bardziej na produkcji!

---

## Komentarze w kodzie - Lab

https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-on-debug-page

---

## Kopia zapasowa

- strategia 3-2-1
- 3 kopie / 2 lokalnie na różnych nośnikach / 1 zdalnie (np. w chmurze)

(https://experience.dropbox.com/pl-pl/resources/3-2-1-backup-strategy)

---

## Kopia zapasowa

- warto zabezpieczyć hasłem...
- ... i trzymać w rzeczywiście bezpiecznym miejscu.
- problem: włączone listowanie zawartości katalogów na serwerze
- problem - ogólny dostęp do katalogów

---

## Kopia zapasowa - Lab

https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-via-backup-files

---

## Dostęp przez localhost

- wydaje się być dobrym pomysłem - w końcu lokalnie aplikację odpala tylko ktoś, kto ma repozytorium, prawda?
- a co jeśli da się "podszyć" pod localhost?

---

## Nagłówki HTTP

- przesyłają dodatkowe informacje w zapytaniu i / lub w odpowiedzi

(https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers)

---

## Dostęp przez localhost - Lab

https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-authentication-bypass
